{"version":3,"sources":["../../../projects/ngx-scrolltop/src/lib/ngx-scrolltop.core.service.ts","../../../projects/ngx-scrolltop/src/lib/ngx-scrolltop.component.ts","../../../projects/ngx-scrolltop/src/lib/ngx-scrolltop.directive.ts","../../../projects/ngx-scrolltop/src/lib/ngx-scrolltop.module.ts"],"names":["NgxScrollTopCoreService","document","this","scrolledFromTop","isBrowser","window","prototype","onWindowScroll","mode","show","position","_a","documentElement","scrollTop","_b","scrollingElement","classicMode","smartMode","innerHeight","scrollOffset","scrollToTop","scroll","top","left","behavior","Injectable","Inject","args","DOCUMENT","NgxScrollTopComponent","core","theme","ngOnChanges","changes","symbol","console","error","currentValue","Component","selector","template","Input","HostListener","NgxScrollTopDirective","el","hideElement","showElement","onClick","nativeElement","style","display","Directive","ElementRef","NgModule","declarations","imports","CommonModule","providers","exports"],"mappings":"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","sourcesContent":["import { DOCUMENT } from '@angular/common';\nimport { Inject, Injectable } from '@angular/core';\nimport { NgxScrollTopMode } from './ngx-scrolltop.interface';\n\n@Injectable()\nexport class NgxScrollTopCoreService {\n  private scrolledFromTop = false;\n  private scrollOffset: number;\n  private readonly isBrowser: boolean = typeof window !== 'undefined';\n\n  constructor(@Inject(DOCUMENT) private document: any) {}\n\n  public onWindowScroll(mode: NgxScrollTopMode): boolean {\n    let show = false;\n    const position: number =\n      this.document.documentElement?.scrollTop || this.document.scrollingElement?.scrollTop;\n    switch (mode) {\n      case 'classic':\n        show = this.classicMode(position);\n        break;\n      case 'smart':\n        show = this.smartMode(position);\n        break;\n    }\n    return show;\n  }\n\n  private classicMode(position: number): boolean {\n    let show = false;\n    if (this.isBrowser && position > window.innerHeight) {\n      show = true;\n    } else {\n      show = false;\n    }\n    return show;\n  }\n\n  private smartMode(position: number): boolean {\n    let show = false;\n    if (position === 0) {\n      show = false;\n      this.scrolledFromTop = false;\n    }\n\n    if (this.scrolledFromTop && this.scrollOffset > position) {\n      show = true;\n    }\n\n    if (this.isBrowser && position > window.innerHeight * 2) {\n      this.scrolledFromTop = true;\n      this.scrollOffset = position;\n    }\n\n    return show;\n  }\n\n  public scrollToTop(): void {\n    if (this.isBrowser) {\n      window.scroll({ top: 0, left: 0, behavior: 'smooth' });\n    }\n  }\n}\n","import { Component, HostListener, Input, OnChanges, SimpleChanges } from '@angular/core';\nimport { NgxScrollTopCoreService } from './ngx-scrolltop.core.service';\nimport {\n  NgxScrollTopMode,\n  NgxScrollTopPosition,\n  NgxScrollTopTheme,\n} from './ngx-scrolltop.interface';\n\n@Component({\n  selector: 'ngx-scrolltop',\n  templateUrl: './ngx-scrolltop.component.html',\n  styleUrls: ['./ngx-scrolltop.component.scss'],\n})\nexport class NgxScrollTopComponent implements OnChanges {\n  @Input() public backgroundColor: string;\n  @Input() public symbolColor: string;\n  @Input() public size: number;\n  @Input() public symbol: string;\n  @Input() public position: NgxScrollTopPosition = 'right';\n  @Input() public theme: NgxScrollTopTheme = 'gray';\n  @Input() public mode: NgxScrollTopMode = 'classic';\n\n  public show = false;\n\n  @HostListener('window:scroll')\n  public onWindowScroll() {\n    this.show = this.core.onWindowScroll(this.mode);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    // Deprecation warning. It will be removed soon.\n    if (changes.symbol) {\n      console.error(\n        `NgxScrollTop: You are trying to set \\`${changes['symbol'].currentValue}\\` as your symbol but Input \\`[symbol]=\"\\'â†‘\\'\"\\` is deprecated now.\\n\\r`,\n        `Use \\`Content projection\\` method, like this:\\n\\r\\n\\r`,\n        `<ngx-scrolltop>${changes['symbol'].currentValue}</ngx-scrolltop>\\n\\r\\n\\r`,\n        `More info: https://github.com/bartholomej/ngx-scrolltop#symbol`\n      );\n    }\n  }\n\n  constructor(private core: NgxScrollTopCoreService) {}\n\n  public scrollToTop(): void {\n    this.core.scrollToTop();\n  }\n}\n","import { Directive, ElementRef, HostListener, Input } from '@angular/core';\nimport { NgxScrollTopCoreService } from './ngx-scrolltop.core.service';\nimport { NgxScrollTopMode } from './ngx-scrolltop.interface';\n\n@Directive({\n  selector: '[ngxScrollTop]',\n})\nexport class NgxScrollTopDirective {\n  @Input('ngxScrollTopMode') public mode: NgxScrollTopMode = 'classic';\n\n  constructor(private el: ElementRef, private core: NgxScrollTopCoreService) {\n    this.hideElement();\n  }\n\n  @HostListener('window:scroll')\n  public onWindowScroll() {\n    if (this.core.onWindowScroll(this.mode)) {\n      this.showElement();\n    } else {\n      this.hideElement();\n    }\n  }\n\n  @HostListener('click')\n  public onClick() {\n    this.scrollToTop();\n  }\n\n  private hideElement(): void {\n    this.el.nativeElement.style.display = 'none';\n  }\n\n  private showElement(): void {\n    this.el.nativeElement.style.display = '';\n  }\n\n  private scrollToTop(): void {\n    this.core.scrollToTop();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { NgxScrollTopComponent } from './ngx-scrolltop.component';\nimport { NgxScrollTopDirective } from './ngx-scrolltop.directive';\nimport { NgxScrollTopCoreService } from './ngx-scrolltop.core.service';\n\n@NgModule({\n  declarations: [NgxScrollTopComponent, NgxScrollTopDirective],\n  imports: [CommonModule],\n  providers: [NgxScrollTopCoreService],\n  exports: [NgxScrollTopComponent, NgxScrollTopDirective],\n})\nexport class NgxScrollTopModule {}\n"]}