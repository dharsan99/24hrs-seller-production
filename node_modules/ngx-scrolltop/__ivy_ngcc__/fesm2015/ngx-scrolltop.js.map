{"version":3,"file":"ngx-scrolltop.js","sources":["../../../projects/ngx-scrolltop/src/lib/ngx-scrolltop.core.service.ts","../../../projects/ngx-scrolltop/src/lib/ngx-scrolltop.component.ts","../../../projects/ngx-scrolltop/src/lib/ngx-scrolltop.directive.ts","../../../projects/ngx-scrolltop/src/lib/ngx-scrolltop.module.ts","../../../projects/ngx-scrolltop/src/public-api.ts","../../../projects/ngx-scrolltop/src/ngx-scrolltop.ts"],"names":[],"mappings":"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","sourcesContent":["import { DOCUMENT } from '@angular/common';\nimport { Inject, Injectable } from '@angular/core';\nimport { NgxScrollTopMode } from './ngx-scrolltop.interface';\n\n@Injectable()\nexport class NgxScrollTopCoreService {\n  private scrolledFromTop = false;\n  private scrollOffset: number;\n  private readonly isBrowser: boolean = typeof window !== 'undefined';\n\n  constructor(@Inject(DOCUMENT) private document: any) {}\n\n  public onWindowScroll(mode: NgxScrollTopMode): boolean {\n    let show = false;\n    const position: number =\n      this.document.documentElement?.scrollTop || this.document.scrollingElement?.scrollTop;\n    switch (mode) {\n      case 'classic':\n        show = this.classicMode(position);\n        break;\n      case 'smart':\n        show = this.smartMode(position);\n        break;\n    }\n    return show;\n  }\n\n  private classicMode(position: number): boolean {\n    let show = false;\n    if (this.isBrowser && position > window.innerHeight) {\n      show = true;\n    } else {\n      show = false;\n    }\n    return show;\n  }\n\n  private smartMode(position: number): boolean {\n    let show = false;\n    if (position === 0) {\n      show = false;\n      this.scrolledFromTop = false;\n    }\n\n    if (this.scrolledFromTop && this.scrollOffset > position) {\n      show = true;\n    }\n\n    if (this.isBrowser && position > window.innerHeight * 2) {\n      this.scrolledFromTop = true;\n      this.scrollOffset = position;\n    }\n\n    return show;\n  }\n\n  public scrollToTop(): void {\n    if (this.isBrowser) {\n      window.scroll({ top: 0, left: 0, behavior: 'smooth' });\n    }\n  }\n}\n","import { Component, HostListener, Input, OnChanges, SimpleChanges } from '@angular/core';\nimport { NgxScrollTopCoreService } from './ngx-scrolltop.core.service';\nimport {\n  NgxScrollTopMode,\n  NgxScrollTopPosition,\n  NgxScrollTopTheme,\n} from './ngx-scrolltop.interface';\n\n@Component({\n  selector: 'ngx-scrolltop',\n  templateUrl: './ngx-scrolltop.component.html',\n  styleUrls: ['./ngx-scrolltop.component.scss'],\n})\nexport class NgxScrollTopComponent implements OnChanges {\n  @Input() public backgroundColor: string;\n  @Input() public symbolColor: string;\n  @Input() public size: number;\n  @Input() public symbol: string;\n  @Input() public position: NgxScrollTopPosition = 'right';\n  @Input() public theme: NgxScrollTopTheme = 'gray';\n  @Input() public mode: NgxScrollTopMode = 'classic';\n\n  public show = false;\n\n  @HostListener('window:scroll')\n  public onWindowScroll() {\n    this.show = this.core.onWindowScroll(this.mode);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    // Deprecation warning. It will be removed soon.\n    if (changes.symbol) {\n      console.error(\n        `NgxScrollTop: You are trying to set \\`${changes['symbol'].currentValue}\\` as your symbol but Input \\`[symbol]=\"\\'↑\\'\"\\` is deprecated now.\\n\\r`,\n        `Use \\`Content projection\\` method, like this:\\n\\r\\n\\r`,\n        `<ngx-scrolltop>${changes['symbol'].currentValue}</ngx-scrolltop>\\n\\r\\n\\r`,\n        `More info: https://github.com/bartholomej/ngx-scrolltop#symbol`\n      );\n    }\n  }\n\n  constructor(private core: NgxScrollTopCoreService) {}\n\n  public scrollToTop(): void {\n    this.core.scrollToTop();\n  }\n}\n","import { Directive, ElementRef, HostListener, Input } from '@angular/core';\nimport { NgxScrollTopCoreService } from './ngx-scrolltop.core.service';\nimport { NgxScrollTopMode } from './ngx-scrolltop.interface';\n\n@Directive({\n  selector: '[ngxScrollTop]',\n})\nexport class NgxScrollTopDirective {\n  @Input('ngxScrollTopMode') public mode: NgxScrollTopMode = 'classic';\n\n  constructor(private el: ElementRef, private core: NgxScrollTopCoreService) {\n    this.hideElement();\n  }\n\n  @HostListener('window:scroll')\n  public onWindowScroll() {\n    if (this.core.onWindowScroll(this.mode)) {\n      this.showElement();\n    } else {\n      this.hideElement();\n    }\n  }\n\n  @HostListener('click')\n  public onClick() {\n    this.scrollToTop();\n  }\n\n  private hideElement(): void {\n    this.el.nativeElement.style.display = 'none';\n  }\n\n  private showElement(): void {\n    this.el.nativeElement.style.display = '';\n  }\n\n  private scrollToTop(): void {\n    this.core.scrollToTop();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { NgxScrollTopComponent } from './ngx-scrolltop.component';\nimport { NgxScrollTopDirective } from './ngx-scrolltop.directive';\nimport { NgxScrollTopCoreService } from './ngx-scrolltop.core.service';\n\n@NgModule({\n  declarations: [NgxScrollTopComponent, NgxScrollTopDirective],\n  imports: [CommonModule],\n  providers: [NgxScrollTopCoreService],\n  exports: [NgxScrollTopComponent, NgxScrollTopDirective],\n})\nexport class NgxScrollTopModule {}\n","/*\n * Public API Surface of ngx-scrolltop\n */\n\nexport * from './lib/ngx-scrolltop.component';\nexport * from './lib/ngx-scrolltop.directive';\nexport * from './lib/ngx-scrolltop.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {NgxScrollTopCoreService as ɵa} from './lib/ngx-scrolltop.core.service';"]}